(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{318:function(t,s,a){t.exports=a.p+"assets/img/husky-prettier-error.f774de70.png"},415:function(t,s,a){"use strict";a.r(s);var r=a(2),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"prettier-설정-하기"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prettier-설정-하기"}},[t._v("#")]),t._v(" Prettier 설정 하기")]),t._v(" "),s("p",[t._v("협업 시, 에러를 줄이고 일관적인 코드를 작성하기 위해 코드 포맷터 프리티어(Prettier)를 사용하는 방법이 있습니다.\nPrettier를 프로젝트에 세팅하는 방법과 commit 전에 전체 코드를 대상으로 prettier를 실행해서 포맷팅 후에 commit을 하도록 하는 방법에 대해 알아보겠습니다.")]),t._v(" "),s("h2",{attrs:{id:"포맷팅할-prettier-설정파일-생성하기"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#포맷팅할-prettier-설정파일-생성하기"}},[t._v("#")]),t._v(" 포맷팅할 prettier 설정파일 생성하기")]),t._v(" "),s("p",[t._v("프로젝트 루트 디렉토리에서 "),s("code",[t._v(".prettierrc")]),t._v(" 생성합니다.")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"singleQuote"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"semi"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"useTabs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tabWidth"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"trailingComma"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"all"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"printWidth"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"parser"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bracketSpacing"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"arrowParens"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"avoid"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("각 옵션에 대해 자세히 알고 싶다면 "),s("a",{attrs:{href:"https://prettier.io/docs/en/options.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("prettier 공식 사이트"),s("OutboundLink")],1),t._v("를 참고하세요.")])]),t._v(" "),s("h2",{attrs:{id:"vscode에서-prettier-설치-및-실행하기"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vscode에서-prettier-설치-및-실행하기"}},[t._v("#")]),t._v(" vscode에서 prettier 설치 및 실행하기")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Extensions(mac : "),s("code",[t._v("command + shift + x")]),t._v(", window : "),s("code",[t._v("control + shift + x")]),t._v(")에서 Prettier를 설치합니다.")])]),t._v(" "),s("li",[s("p",[t._v("설치가 완료되면 command + p를 누르고 "),s("code",[t._v("> Format Document")]),t._v("를 실행합니다.")])])]),t._v(" "),s("h2",{attrs:{id:"vscode에서-저장-command-s-시-자동으로-prettier-실행하기"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vscode에서-저장-command-s-시-자동으로-prettier-실행하기"}},[t._v("#")]),t._v(" vscode에서 저장(command + s)시 자동으로 prettier 실행하기")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("command + ,를 누르고 검색에 "),s("code",[t._v("format on save")]),t._v("를 입력합니다.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Editor: Format on Save")]),t._v("를 체크하고 vscode를 재부팅합니다.")])]),t._v(" "),s("li",[s("p",[t._v("만약 저장시 포맷팅이 안된다면 다시 "),s("code",[t._v("command + ,")]),t._v("를 누르고 검색창에 "),s("code",[t._v("default formatter")]),t._v("를 검색하고 none으로 되어 있으면 Prettier - Code formatter로 변경 후 재부팅합니다.")])])]),t._v(" "),s("h2",{attrs:{id:"husky를-사용하여-commit-전에-prettier-전체-파일에-적용하기"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#husky를-사용하여-commit-전에-prettier-전체-파일에-적용하기"}},[t._v("#")]),t._v(" husky를 사용하여 commit 전에 prettier 전체 파일에 적용하기")]),t._v(" "),s("p",[t._v("허스키(husky)를 사용하면 Prettier를 설치하지 않아도 commit 전에 lint-staged에 설정된 파일 중에 변경된 파일을 대상으로 자동으로 포맷팅하여 commit 합니다.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("husky는 git hook을 쉽게 관리할 수 있는 도구입니다. git push, commit 등이 시행되기 전이나 후에 원하는 스크립트를 실행시켜줍니다.\n더 자세한 내용을 알고 싶다면 "),s("a",{attrs:{href:"https://typicode.github.io/husky/",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky 공식 사이트"),s("OutboundLink")],1),t._v("를 참고하세요.")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("위에서 설명드린 "),s("code",[t._v("포맷팅할 prettier 설정파일 생성하기")]),t._v("을 만듭니다.")])]),t._v(" "),s("li",[s("p",[t._v("관련 라이브러리를 설치합니다.")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v(" husky@4 lint-staged prettier\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("package.json에 아래와 같이 추가합니다.")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ...\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ...\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"init-husky"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npx husky install .husky"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-front"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 변경된 js, vue, json, md 파일을 대상으로 prettier를 실행합니다.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"src/**/*.{js,json,md}"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("husky를 설치합니다.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" init-husky\n")])])]),s("p",[t._v("이후 생성된 "),s("code",[t._v(".husky")]),t._v(" 파일 하위에 "),s("code",[t._v("pre-commit")]),t._v("이라는 파일을 하나 생성하고 아래 코드를 넣습니다.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dirname")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('/_/husky.sh"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" lint-front\n\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[s("p",[t._v("이후 다른 파일을 변경하고 commit 하면 파일이 포맷팅 되어 commit 되는지 확인합니다.")])]),t._v(" "),s("li",[s("p",[t._v("만약 아래와 같은 에러로 commit이 실패 한다면 터미널에 아래 코드를 넣습니다.")])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(318),alt:"husky 에러"}})]),t._v(" "),s("p",[t._v("깃 훅 실행 권한을 부여하는 코드입니다.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" ug+x ./husky/*\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" ug+x .git/hooks/*\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[t._v("vscode를 재부팅하고 다시 파일을 변경하여 commit 합니다.")])])])}),[],!1,null,null,null);s.default=e.exports}}]);